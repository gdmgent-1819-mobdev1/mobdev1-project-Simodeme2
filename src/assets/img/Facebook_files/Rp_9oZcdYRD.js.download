if (self.CavalryLogger) { CavalryLogger.start_js(["B21oC"]); }

__d("UFI2CommentBodyCodeBlock.react",["React","SourceCode.react"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").createElement(b("SourceCode.react"),a)}e.exports=a}),null);
__d("UFI2InsertStickerButton.react",["cx","Arbiter","ContextualLayerAutoFlip","LayerTabIsolation","Link.react","React","StickersFlyout.react","XUIContextualDialog.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i;c=babelHelpers.inherits(j,b("React").PureComponent);h=c&&c.prototype;function j(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={locked:!1,visible:Boolean(this.props.initiallyVisible)},this.$2=function(a){this.$1=a,this.props.onFocusableElementRefChange&&this.props.onFocusableElementRefChange(this.$1)}.bind(this),this.$3=function(a){a.preventDefault(),a.stopPropagation(),this.setState(function(a){return{locked:!1,visible:a.locked?!1:!a.visible}})}.bind(this),this.$4=function(){var a;this.$5();(a=this.props).onStickerSelected.apply(a,arguments)}.bind(this),this.$5=function(){this.setState({visible:!1})}.bind(this),this.$6=function(a){this.setState(function(a){return{locked:a.visible}})}.bind(this),b}j.prototype.render=function(){var a=this.state.visible?b("joinClasses")(this.props.iconClassName,this.props.iconActiveClassName):this.props.iconClassName;return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("Link.react"),{"aria-label":this.props.label,className:this.props.buttonClassName,"data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-content":this.state.visible?null:this.props.label,linkRef:this.$2,onClick:this.$3,onDragStart:function(a){return a.preventDefault()},onMouseDown:this.$6,role:"button"},b("React").createElement("div",{className:a})),this.state.visible?b("React").createElement(b("XUIContextualDialog.react"),{alignment:"right",behaviors:{ContextualLayerAutoFlip:b("ContextualLayerAutoFlip"),LayerTabIsolation:b("LayerTabIsolation")},className:"_25b3",contextRef:function(){return this.$1}.bind(this),hasActionableContext:!0,label:this.props.label,onBlur:this.$5,onToggle:this.$5,position:"above",shown:!0,width:278},b("React").createElement("div",null,b("React").createElement(b("StickersFlyout.react"),{onEscKeyDown:this.$5,onStickerSelect:this.$4,shown:!0,stickerInterface:"comments"}))):null)};j.defaultProps={initiallyVisible:!1};d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$1=function(a,c){this.props.onComposerStateChange(function(b){return{attachment:{__type:"Sticker",id:a},updateSource:"UFI2InsertStickerButton"}}),b("Arbiter").inform("comment_content_change",{addingAttachment:!0})}.bind(this),c}a.prototype.render=function(){var a=this.props;a.onComposerStateChange;a=babelHelpers.objectWithoutPropertiesLoose(a,["onComposerStateChange"]);return b("React").createElement(j,babelHelpers["extends"]({},a,{onStickerSelected:this.$1}))};e.exports=a}),null);
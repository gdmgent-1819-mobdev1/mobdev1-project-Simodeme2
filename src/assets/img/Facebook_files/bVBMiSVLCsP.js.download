if (self.CavalryLogger) { CavalryLogger.start_js(["Aprcd"]); }

__d("EventsPermalinkActionsLogger",["Event","EventsActionsLogger"],(function(a,b,c,d,e,f){e.exports={setupHoverOnShareButton:function(a,c,d){var e=!1;b("Event").listen(a,"mouseenter",function(){e||(b("EventsActionsLogger").log(c,{type:b("EventsActionsLogger").Type.HOVER,target:b("EventsActionsLogger").Target.SHARE_EVENT_BUTTON,acontext:d}),e=!0)})},logClickOnFlyoutItem:function(a,c,d){b("EventsActionsLogger").log(a,{type:b("EventsActionsLogger").Type.CLICK,target:c,acontext:d})},logClickOnPersistentPlanButton:function(a){b("EventsActionsLogger").log(a,{type:b("EventsActionsLogger").Type.CLICK,target:b("EventsActionsLogger").Target.PLAN_BUTTON,acontext:{action_history:[{surface:b("EventsActionsLogger").Surface.PERMALINK,mechanism:b("EventsActionsLogger").Mechanism.HEADER_CTA_BUTTON}]}})},logClickOnPersistentInviteButton:function(a){b("EventsActionsLogger").log(a,{type:b("EventsActionsLogger").Type.CLICK,target:b("EventsActionsLogger").Target.INVITE_BUTTON,acontext:{action_history:[{surface:b("EventsActionsLogger").Surface.PERMALINK,mechanism:b("EventsActionsLogger").Mechanism.HEADER_CTA_BUTTON}]}})}}}),null);
__d("EventButtonJSHandlerController",["csx","cx","Arbiter","CSS","Event","EventPermalinkActions","EventsPermalinkActionsLogger","EventUIActions","Parent"],(function(a,b,c,d,e,f,g,h){__p&&__p();a={addAsyncButtonBehavior:function(a,c,d){var e=b("Parent").bySelector(a,"._1pf1");e||(e=a);b("Event").listen(a,"click",function(){c===b("EventUIActions").MAKE_PLAN?b("EventsPermalinkActionsLogger").logClickOnPersistentPlanButton(d):c===b("EventUIActions").INVITE?b("EventsPermalinkActionsLogger").logClickOnPersistentInviteButton(d):e&&b("CSS").addClass(e,"_37ft")})},addAsyncFlyoutItemBehavior:function(a,c){var d=b("Parent").bySelector(c,"._5qwt");d&&b("Event").listen(a,"click",function(){d&&b("CSS").addClass(d,"_37ft")})},setActionButton:function(a,b,c,d,e){this._addHandler(a,b,c,d,e),this.addAsyncButtonBehavior(a,b,c)},setActionFlyoutItem:function(a,c,d,e,f){this._addHandler(a,d,e,f),d!==b("EventUIActions").INVITE&&d!==b("EventUIActions").SHARE&&d!==b("EventUIActions").SHARE_IN_MESSENGER&&this.addAsyncFlyoutItemBehavior(a,c)},_addHandler:function(a,c,d,e,f){__p&&__p();var g=new(b("EventPermalinkActions"))(d,e);c===b("EventUIActions").EDIT&&b("Arbiter").subscribe("event_edit_dialog_hide",function(){var c=b("Parent").bySelector(a,"._37ft");c||(c=a);b("CSS").removeClass(c,"_37ft")});b("Event").listen(a,"click",function(){__p&&__p();switch(c){case b("EventUIActions").JOIN:g.join();break;case b("EventUIActions").JOIN_CHILD:g.joinChild();break;case b("EventUIActions").MAYBE:g.associate();break;case b("EventUIActions").WATCH:g.watch();break;case b("EventUIActions").WATCH_CHILD:g.watchChild();break;case b("EventUIActions").UNWATCH:g.unwatch();break;case b("EventUIActions").UNWATCH_CHILD:g.unwatchChild();break;case b("EventUIActions").DECLINE:g.decline();break;case b("EventUIActions").REMOVE:g.remove();break;case b("EventUIActions").EDIT:g.edit(f);break;case b("EventUIActions").INVITE:g.invite();break;case b("EventUIActions").SHARE:g.share();break;case b("EventUIActions").SHARE_IN_MESSENGER:g.shareInMessenger();break;case b("EventUIActions").CREATE_FRAME:g.createFrame();break;case b("EventUIActions").EDIT_FRAME:g.editFrame();break;case b("EventUIActions").MANAGE_FRAME:g.manageFrame();break;default:break}})}};e.exports=a}),null);
__d("EventsPermalinkFlyoutItem",["cx","invariant","BootloadedComponent.react","CSS","EventButtonJSHandlerController","EventsPermalinkTabBar","JSResource","LoadingDialog.react","MenuItem","Parent","React","ReactDOM","URI"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;function j(a){a=new(b("URI"))(a);var c=a.getQueryData();c.active_tab=b("EventsPermalinkTabBar").getCurrentTab();a.setQueryData(c);return a}c=babelHelpers.inherits(a,b("MenuItem"));i=c&&c.prototype;function a(a){"use strict";__p&&__p();i.constructor.call(this,a),this.$EventsPermalinkFlyoutItem5=!1,this.$EventsPermalinkFlyoutItem6=null,this.$EventsPermalinkFlyoutItem8=!1,this.$EventsPermalinkFlyoutItem1=a.action,this.$EventsPermalinkFlyoutItem2=a.actionContext,this.$EventsPermalinkFlyoutItem3=a.trigger,this.$EventsPermalinkFlyoutItem4=a.eventID,this.$EventsPermalinkFlyoutItem5=!!a.selected,this.$EventsPermalinkFlyoutItem7=a.target,this.$EventsPermalinkFlyoutItem8=!!a.usejs,this.setOnClickHandler(function(c){__p&&__p();this.$EventsPermalinkFlyoutItem1==="set_notification"&&this.$EventsPermalinkFlyoutItem9(!0);c=c.srcElement||c.target;c=b("Parent").byTag(c,"a");if(c){var d=c.getAttribute("href"),e=c.getAttribute("ajaxify");d&&c.setAttribute("href",j(d).toString());if(e){c.setAttribute("ajaxify",j(e).toString());d=a.trigger;d&&a.rel==="async-post"&&b("EventButtonJSHandlerController").addAsyncButtonBehavior(d)}this.$EventsPermalinkFlyoutItem8&&c.setAttribute("target","")}}.bind(this))}a.prototype.$EventsPermalinkFlyoutItem9=function(a){"use strict";this.$EventsPermalinkFlyoutItem6==null&&(this.$EventsPermalinkFlyoutItem6=document.createElement("div"),this.$EventsPermalinkFlyoutItem3.append(this.$EventsPermalinkFlyoutItem6));var c=this.$EventsPermalinkFlyoutItem6;c!=null||h(0,13038);b("ReactDOM").render(b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("EventNotificationSettingsDialog.react").__setRef("EventsPermalinkFlyoutItem"),bootloadPlaceholder:b("React").createElement(b("LoadingDialog.react"),null),causalElement:this.$EventsPermalinkFlyoutItem3,eventID:this.$EventsPermalinkFlyoutItem4,onHide:function(){return this.$EventsPermalinkFlyoutItem9(!1)}.bind(this),showDialog:a}),c)};a.prototype.render=function(){"use strict";var a=i.render.call(this);this.$EventsPermalinkFlyoutItem5&&(b("CSS").addClass(a,"_54nd"),a.setAttribute("aria-checked","true"));this.$EventsPermalinkFlyoutItem8&&b("EventButtonJSHandlerController").setActionFlyoutItem(a,this.$EventsPermalinkFlyoutItem3,this.$EventsPermalinkFlyoutItem1,this.$EventsPermalinkFlyoutItem4,this.$EventsPermalinkFlyoutItem2);return a};e.exports=a}),null);